#include <iostream>
using namespace std;
int main() {
	int m, i, j,n,x,y;
	cin >> m;
	cin >> n;
	if ((m <= 0) || (n <= 0)||(m%2!=0)||(n%2!=0))
		cout << "Данные введены некорректно";
	else {
		int** v = (int**)malloc(m * sizeof(int*));
		for (int i = 0; i < m; i++)
			v[i] = (int*)malloc(n * sizeof(int));
		for (i = 0; i < m; i++)
			for (j = 0; j < n; j++)
				cin >> v[i][j];
		i = m / 2;
		j = n / 2;
		for (x = 0; x < m / 2; x++) {
			for (y = 0; y < n / 2; y++) {
				swap(v[i][j], v[x][y]);
				j++;
			}
			j=n/2;
			i++;
		}
		for (i = 0; i < m; i++) {
			for (j = 0; j < n; j++)
				cout << v[i][j] << " ";
			cout << endl;
		}
		delete[] v;
	}
	return 0;
}
